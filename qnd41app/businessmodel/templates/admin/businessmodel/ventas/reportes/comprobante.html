{% load i18n  static %}

<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <link href="{% static 'admin/businessmodel/css/comprobante_venta.css' %}" media="print" rel="stylesheet">
    <title>Invoice</title>
    <meta name="description" content="Invoice for Sale {{ venta.id }}">
</head>

<body>
    <h1>Invoice</h1>

    <aside>
        <address id="from">
            Your Company Name<br>
            Your Company Address<br>
            City, Country
        </address>

        <address id="to">
            {{ venta.first_name }} {{ venta.last_name }}<br>
            {{ venta.address }}<br>
            {{ venta.city }}<br>
            Email: {{ venta.email }}
        </address>
    </aside>

    <dl id="informations">
        <dt>Invoice number</dt>
        <dd>{{ venta.id }}</dd>
        <dt>Date</dt>
        <dd>{{ venta.fecha|date:"F j, Y" }}</dd>
    </dl>

    <table>
        <thead>
            <tr>
                <th>Description</th>
                <th>Price</th>
                <th>Quantity</th>
                <th>Subtotal</th>
            </tr>
        </thead>
        <tbody>
            {% for item in venta.items.all %}
            <tr>
                <td>{{ item.product.nombre }}</td>
                <td>{{ item.price|floatformat:2 }}</td>
                <td>{{ item.quantity }}</td>
                <td>{{ item.get_cost|floatformat:2 }}</td>
            </tr>
            {% empty %}
            <tr>
                <td colspan="4">No items found</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

    <footer>
        <table id="total">
            <thead>
                <tr>
                    <th>Subtotal</th>
                    <th>IVA ({{ venta.iva_porcentaje }}%)</th>
                    <th>Total</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>{{ venta.Sub_total|floatformat:2 }}</td>
                    <td>{{ venta.Valor_Iva|floatformat:2 }}</td>
                    <td>{{ venta.total_a_pagar|floatformat:2 }}</td>
                </tr>
            </tbody>
        </table>
    </footer>
</body>
</html>
